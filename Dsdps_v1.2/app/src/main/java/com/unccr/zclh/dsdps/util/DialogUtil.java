package com.unccr.zclh.dsdps.util;import android.app.Activity;import android.app.AlertDialog;import android.util.Log;import android.view.LayoutInflater;import android.view.View;import android.widget.Button;import android.widget.EditText;import android.widget.ImageView;import android.widget.TextView;import android.widget.Toast;import com.unccr.zclh.dsdps.R;import com.unccr.zclh.dsdps.app.DsdpsApp;public class DialogUtil {	private static final String TAG = "DialogUtil";	private static AlertDialog dialog;	/**	 * @param activity                    Context	 * @param iconRes                     提示图标	 * @param title                       提示标题	 * @param msg                         提示内容	 * @param positiveText                确认	 * @param negativeText                取消	 * @param cancelableTouchOut          点击外部是否隐藏提示框	 * @param alertDialogBtnClickListener 点击监听	 */	public static void showAlertDialog(Activity activity, int iconRes, String title, String msg,									   String positiveText, String negativeText, boolean											   cancelableTouchOut, final AlertDialogBtnClickListener											   alertDialogBtnClickListener) {		View view = LayoutInflater.from(activity).inflate(R.layout.custom_dialog_layout, null);		ImageView mIcon = view.findViewById(R.id.icon);		TextView mTitle = view.findViewById(R.id.title);		final EditText mMessage = view.findViewById(R.id.message);		Button positiveButton = view.findViewById(R.id.positiveButton);		Button negativeButton = view.findViewById(R.id.negativeButton);		ImageView set = view.findViewById(R.id.set);		mIcon.setImageResource(iconRes);		mTitle.setText(title);		positiveButton.setText(positiveText);		negativeButton.setText(negativeText);		positiveButton.setOnClickListener(new View.OnClickListener() {			@Override			public void onClick(View v) {				String exitPassword = SharedUtil.newInstance().getString("exitPassword");				if(exitPassword.equals("exitPassword") || exitPassword.equals("") || exitPassword == null){					exitPassword = "11223344";				}				Log.d(TAG,"showAlertDialog exitPassword: " + exitPassword);				if(mMessage.getText().toString().trim().equals(exitPassword)){					alertDialogBtnClickListener.clickPositive();					dialog.dismiss();				}else{					Toast.makeText(DsdpsApp.getDsdpsApp(), "密码错误", Toast.LENGTH_SHORT).show();				}			}		});		negativeButton.setOnClickListener(new View.OnClickListener() {			@Override			public void onClick(View v) {				alertDialogBtnClickListener.clickNegative();				dialog.dismiss();			}		});		set.setOnClickListener(new View.OnClickListener() {			@Override			public void onClick(View view) {				alertDialogBtnClickListener.clickSet();			}		});		AlertDialog.Builder builder = new AlertDialog.Builder(activity,R.style.dialog);		builder.setView(view);		builder.setCancelable(true);   //返回键dismiss		//创建对话框		dialog = builder.create();		dialog.getWindow().setDimAmount(0f);		dialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);//去掉圆角背景背后的棱角		dialog.setCanceledOnTouchOutside(cancelableTouchOut);   //失去焦点dismiss		dialog.show();	}	public interface AlertDialogBtnClickListener {		void clickPositive();		void clickNegative();		void clickSet();	}}